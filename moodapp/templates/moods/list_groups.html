{% extends 'base.html' %}
{% block content %}
<div class="container py-5">
    <h1 class="text-center mb-4">Liste des Groupes</h1>
    
    <div class="row">
        {% for group in groups %}
            <div class="col-md-4 mb-4">
                <div class="card shadow">
                    <div class="card-body">
                        <h5 class="card-title">{{ group.name }}</h5>
                        <p class="card-text">{{ group.description }}</p>
                        
                        <!-- Bouton pour voir les statistiques -->
                        <a href="{% url 'group_stats' group.id %}" class="btn btn-info mb-2">Voir les Statistiques</a>
                        
                        <!-- Bouton pour rejoindre le groupe -->
                        {% if group.id in user_groups %}
                            <button class="btn btn-success" disabled>Déjà Membre</button>
                        {% else %}
                            <a href="{% url 'join_group' group.id %}" class="btn btn-primary">Rejoindre le Groupe</a>
                        {% endif %}
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
